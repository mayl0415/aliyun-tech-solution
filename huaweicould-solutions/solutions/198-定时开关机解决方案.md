---
title: "定时开关机解决方案"
source_url: https://www.huaweicloud.com/solution/implementations/scheduled-power-on-and-power-off-solution.html
collected_at: 2026-02-05
---

- [解决方案实践](https://www.huaweicloud.com/solution/implementations/index.html)
- 定时开关机

# 定时开关机解决方案

# 定时开关机解决方案

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[方案咨询](https://www.huaweicloud.com/consultation/?type=scheduled-power-on-and-power-off-solution)

### 方案架构

该方案基于华为云函数工作流FunctionGraph，来帮用户实现弹性云服务器 ECS（ModelArts Studio）定时批量启停的计划。

![](https://res-static.hc-cdn.cn/cloudbu-site/china/zh-cn/MAAS.jpg)

**定时开关机解决方案**

上次更新日期：2025年3月

版本：1.0.4﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿

来源：由华为云构建

部署：预计5分钟

卸载：预计5分钟

**[预估成本 ◥](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_02.html)**

支持区域：

华东二
华南-广州
华东-上海一
华北-北京四
华北-乌兰察布一

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[一键部署（ModelArts Studio）](https://console.huaweicloud.com/rf/?locale=zh-cn&region=cn-east-4#/console/stack/stackCreate?templateUrl=https://documentation-samples-16.obs.cn-east-4.myhuaweicloud.com/solution-as-code-publicbucket/solution-as-code-module/scheduled-power-on-and-power-off-solution/scheduled-maas-startup-shutdown.tf.json&stackName=scheduled-maas-startup-shutdown&stackDescription=定时批量启动/停止MAAS服务)

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[一键部署（弹性云服务器 ECS）](https://console.huaweicloud.com/rf/?region=cn-south-1&locale=zh-cn#/console/stack/stackCreate?templateUrl=https://documentation-samples-2.obs.cn-south-1.myhuaweicloud.com/solution-as-code-moudle/scheduled-power-on-and-power-off-solution/scheduled-power-on-and-power-off-solution.tf.json&stackName=scheduled-power-on-and-power-off-solution&stackDescription=定时开关机解决方案)

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[一键部署（弹性云服务器 ECS）](https://console.huaweicloud.com/rf/?region=cn-east-3&locale=zh-cn#/console/stack/stackCreate?templateUrl=https://documentation-samples-3.obs.cn-east-3.myhuaweicloud.com/solution-as-code-moudle/scheduled-power-on-and-power-off-solution/scheduled-power-on-and-power-off-solution.tf.json&stackName=scheduled-power-on-and-power-off-solution&stackDescription=定时开关机解决方案)

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[一键部署（弹性云服务器 ECS）](https://console.huaweicloud.com/rf/?region=cn-north-4#/console/stack/stackCreate?templateUrl=https://documentation-samples.obs.cn-north-4.myhuaweicloud.com/solution-as-code-publicbucket/solution-as-code-moudle/scheduled-power-on-and-power-off-solution/scheduled-power-on-and-power-off-solution.tf.json&stackName=scheduled-power-on-and-power-off-solution&stackDescription=定时开关机解决方案)

[查看部署指南](https://support.huaweicloud.com/sponpoff-ctf/sponpoff_01.html)
[一键部署（ModelArts Studio）](https://console.huaweicloud.com/rf/?region=cn-north-9&locale=zh-cn#/console/stack/stackCreate?templateUrl=https://documentation-samples-17.obs.cn-north-9.myhuaweicloud.com/solution-as-code-publicbucket/solution-as-code-module/scheduled-power-on-and-power-off-solution/scheduled-maas-startup-shutdown.tf.json&stackName=scheduled-maas-startup-shutdown&stackDescription=定时批量启动/停止MAAS服务)

**架构描述**

该解决方案会部署如下资源：

1. 通过[函数工作流 FunctionGraph](https://www.huaweicloud.com/product/functiongraph.html)，创建两个函数，调用[弹性云服务器 ECS](https://www.huaweicloud.com/product/ecs.html)（[ModelArts Studio](https://www.huaweicloud.com/product/modelarts/studio.html)）的相关接口，实现定时批量启停弹性云服务器 ECS（ModelArts Studio）实例的计划。

2. 创建[定时触发器 TIMER](https://support.huaweicloud.com/usermanual-functiongraph/functiongraph_01_0207.html)的计划事件功能，指定固定频率定期调用函数工作流代码，实现定时批量启停弹性云服务器 ECS（ModelArts Studio）实例的计划。

3. 通过[统一身份认证服务](https://www.huaweicloud.com/product/iam.html) [IAM](https://www.huaweicloud.com/product/iam.html)的委托功能，将帐号Region内弹性云服务器 ECS（ModelArts Studio）的操作权限委托给函数工作流 FunctionGraph。

4. 使用[消息通知服务 SMN](https://www.huaweicloud.com/product/smn.html)为用户发送定时启动或停止ModelArts Studio服务情况的短信消息。

**架构描述**

该解决方案会部署如下资源：

1. 通过[函数工作流 FunctionGraph](https://www.huaweicloud.com/product/functiongraph.html)，创建两个函数，调用弹性云服务器 ECS的相关接口，实现定时批量启停弹性云服务器 ECS（ModelArts Studio）实例的计划。

2. 创建[定时触发器 TIMER](https://support.huaweicloud.com/usermanual-functiongraph/functiongraph_01_0207.html)的计划事件功能，指定固定频率定期调用函数工作流代码，实现定时批量启停弹性云服务器 ECS（ModelArts Studio）实例的计划。

3. 通过[统一身份认证服务](https://www.huaweicloud.com/product/iam.html) [IAM](https://www.huaweicloud.com/product/iam.html)的委托功能，将帐号Region内弹性云服务器 ECS（ModelArts Studio）的操作权限委托给函数工作流 FunctionGraph。

4. 使用[消息通知服务 SMN](https://www.huaweicloud.com/product/smn.html)为用户发送定时启动或停止ModelArts Studio服务情况的短信消息。

展开内容

收起内容

### 方案优势

### 无服务器化

采用无服务器架构，无需运维底层计算资源，无需考虑服务可用性、可扩展性等技术问题。
### 一键部署

一键轻松部署，即可完成定时批量启停弹性云服务器 ECS（ModelArts Studio）的计划配置。
### 开源和定制化

该解决方案是开源的，用户可以免费用于商业用途，并在源码基础上进行定制化开发。
